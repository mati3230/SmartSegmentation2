# Smart Segmentation 2

Documentation will be added soon. After that, the code will be cleaned.

## PLY2PCD

* In case of using multiple disks -- make sure all disks of the paths are mounted!
* The pcd will be generated by an extended pcl_mesh_sampling tool which is in the pcl folder. Copy the .cpp file in your pcl folder. The tool can be compiled by recompiling the pcl with *make* followed by *sudo make install*
* Use the tool *ply_to_pcd.sh* to transform the meshes to point cloud scenes: *sh ./ply_to_pcd.sh DIR_TO_SCANNET_SCENES DESIRED_DIR* -- e.g. *sh ./ply_to_pcd.sh ${SCANNET_ROOT}/scans ./ScannetScenes* -- this will take some time.

## CREATE CACHE

* The cache stores the superpoints that are generated by an algorithm such as the VCCS algorithm.
* If you want to cache all scenes, then just type *python create_cache.py*
* You can inspect the parameters with *python create_cache.py -h*
* The VCCS superpoints of a specific scene can be visualized with: 'python create_cache.py --mode=visualize_single --scene=scene0268_01'

## VISUALIZATION OF THE GROUND TRUTH SEGMENTS

* Use 'python scannet_provider.py --mode=visualize_single --scene=scene0268_01' to visualize the ground truth segments of a certain scene.

## VISUALISATION OF THE ORIGINAL POINT CLOUD

* The original point cloud can be visualized with the pc_tools by 'python ../pc_tools/pcd_viewer.py --input=./ScannetScenes/scene0268_01/scene0268_01_color.pcd --format=xyzrgb'
* The corresponding segments can be visualized by 'python ../pc_tools/pcd_viewer.py --input=./ScannetScenes/scene0268_01/scene0268_01_color.pcd --format=xyzrgb'

## VISUALISATION OF THE AGENT SEGMENTATION

* Use 'python agent.py --model=mvcnn_ac_1.0_Imi --train_mode=imitation --train_types=imitation_types.json --train_args=imitation_args.json --render_suggestions=True --render_size=128' to visualize the segmentation of the agent

## ACKNOWLEDGEMENTS

This project is sponsored by: German Federal Ministry of Education and Research (BMBF) under the project number 13FH022IX6. Project name: Interactive body-near production technology 4.0 (German: Interaktive k√∂rpernahe Produktionstechnik 4.0 (iKPT4.0))

![bmbf](figures/bmbflogo.jpg)
